<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>â± ì‹œê°„ë³„ ë ˆì‹œí”¼</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- ìƒë‹¨ ë°°ë„ˆ (ì˜µì…˜) -->
  <header class="top-banner">
    <img src="images/banner.jpg" alt="ë ˆì‹œí”¼ ì¶”ì²œ ë°°ë„ˆ" />
  </header>

  <!-- ë©”ë‰´ -->
  <nav class="menu">
    <a href="index.html">ğŸ§‚ ì¬ë£Œë¡œ ì°¾ê¸°</a>
    <a href="time.html">â± ì‹œê°„ë³„</a>
    <a href="method.html">ğŸ”¥ ì¡°ë¦¬ë°©ì‹ë³„</a>
    <a href="situation.html">ğŸ¯ ìƒí™©ë³„</a>
  </nav>

  <h1>â± ì‹œê°„ë³„ ë ˆì‹œí”¼</h1>

  <div class="section">
    <h2 onclick="toggleSection('under5')">â° 5ë¶„ ì´í•˜ ë ˆì‹œí”¼</h2>
    <div id="under5" class="recipe-list" style="display: none;"></div>
  </div>

  <div class="section">
    <h2 onclick="toggleSection('under10')">â° 10ë¶„ ì´í•˜ ë ˆì‹œí”¼</h2>
    <div id="under10" class="recipe-list" style="display: none;"></div>
  </div>

  <div class="section">
    <h2 onclick="toggleSection('under20')">â° 20ë¶„ ì´í•˜ ë ˆì‹œí”¼</h2>
    <div id="under20" class="recipe-list" style="display: none;"></div>
  </div>

  <div class="section">
    <h2 onclick="toggleSection('over20')">â° 20ë¶„ ì´ˆê³¼ ë ˆì‹œí”¼</h2>
    <div id="over20" class="recipe-list" style="display: none;"></div>
  </div>

  <!-- ë ˆì‹œí”¼ ë°ì´í„° ì—°ê²° -->
  <script src="js/recipes.js"></script>

  <script>
    function getTimeCategory(recipe) {
      const match = recipe.time.match(/\d+/);
      const time = match ? parseInt(match[0]) : 0;
      if (time <= 5) return 'under5';
      if (time <= 10) return 'under10';
      if (time <= 20) return 'under20';
      return 'over20';
    }

    function toggleSection(id) {
      const el = document.getElementById(id);
      el.style.display = (el.style.display === "none") ? "block" : "none";
    }

    function renderRecipeList(containerId, recipes) {
      const container = document.getElementById(containerId);
      if (!recipes.length) {
        container.innerHTML = "<p>ë ˆì‹œí”¼ê°€ ì—†ìŠµë‹ˆë‹¤.</p>";
        return;
      }

      container.innerHTML = recipes.map((r, i) => `
        <div class="recipe-item">
          <div class="recipe-header" onclick="toggleRecipe('${containerId}-${i}')">
            ğŸ½ <strong>${r.name}</strong>
          </div>
          <div class="recipe-details" id="recipe-${containerId}-${i}" style="display: none;">
            <p><strong>ğŸ“ ì¡°ë¦¬ ë°©ë²•</strong><br>${r.instructions.replace(/\n/g, "<br>")}</p>
            <p><strong>ì¬ë£Œ</strong>: ${r.ingredients.join(", ")}</p>
          </div>
        </div>
      `).join('');
    }

    function toggleRecipe(id) {
      const el = document.getElementById(`recipe-${id}`);
      el.style.display = (el.style.display === "none") ? "block" : "none";
    }

    const under5 = [], under10 = [], under20 = [], over20 = [];

    allRecipes.forEach(recipe => {
      const category = getTimeCategory(recipe);
      if (category === 'under5') under5.push(recipe);
      else if (category === 'under10') under10.push(recipe);
      else if (category === 'under20') under20.push(recipe);
      else over20.push(recipe);
    });

    renderRecipeList("under5", under5);
    renderRecipeList("under10", under10);
    renderRecipeList("under20", under20);
    renderRecipeList("over20", over20);
  </script>

</body>
</html>
